---
layout: post
category: [CS, Net ]
title: "HTTP VS HTTPS"
date:   2022-10-22 13:52:42 +0900
author: pino #Author's nick.
prevPart: _posts/2022-10-22-Net_007.md
#nextPart: _posts/2022-10-22-Net_009.md #Next part.
---



# TL;DR

- HTTP vs HTTPS
- SSL/TLS λ™μ‘λ°©μ‹
- HSTS



<br><br><br>

# HTTP vs HTTPS

### HTTP

- HTTPλ” μ• ν”λ¦¬μΌ€μ΄μ… λ λ²¨μ ν”„λ΅ν† μ½λ΅ TCP/IP μ„μ—μ„ μ‘λ™
- ν¬νΈ λ„λ²„ 80
- `μ•”νΈν™”κ°€ λμ§€ μ•μ€ ν‰λ¬Έ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” ν”„λ΅ν† μ½` μ΄λΌ ν•΄μ»¤ κ³µκ²© λ° μ¤λ‹ν•‘μ— λ§¤μ° μ·¨μ•½
- Stateless, Connectionless
  - κ³Όκ±° νΈλμ­μ…μ— λ€ν• μ •λ³΄ λλ” μ°Έμ΅°κ°€ μ €μ¥λμ§€ μ•λ” μ—°κ²° ν•νƒ (μ„λ²„μ— μ—°κ²°ν•κ³  μ”μ²­ν•΄μ„ μ‘λ‹µ λ°›μΌλ©΄ μ—°κ²° λμ)
  - μ”μ²­(Request)κ³Ό μ‘λ‹µ(Response)μΌλ΅ κµ¬μ„±
  - κ° λ©”μ„Έμ§€λ” Method, Path, Version, Headers, Body λ“±μΌλ΅ κµ¬μ„±
  - **μ¥μ ** : μ ‘μ† μ μ§€ μµμ†ν™”, λ¶νΉμ • λ‹¤μλ¥Ό λ€μƒμΌλ΅ ν•λ” μ„λΉ„μ¤μ— μ λ¦¬
  - **λ‹¨μ ** : μ—°κ²°μ„ λμ–΄λ²„λ¦¬κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈμ μ΄μ „ μƒνƒλ¥Ό μ• μ μ—†μ (μΏ ν‚¤ μ‚¬μ©ν•΄μ„ λ³΄μ™„)
- HTTP 1.1 Connection: Keep-Alive μµμ… μ΄μ „μ—λ” connectionlessκ°€ κΈ°λ³Έμ΄μ—μΌλ‚ keep-alive μµμ…μ„ μ£Όλ©΄ μ—°κ²°μ„ μ μ§€ν•  μ μλ‹¤.

<br><br>

### HTTPS

- HTTPμ— λ°μ΄ν„° μ•”νΈν™”κ°€ μ¶”κ°€λ ν”„λ΅ν† μ½

- **SSL/TLSλ¥Ό ν†µν•΄ μ•”νΈν™”**ν•΄μ„ μ»΄ν“¨ν„° λ„¤νΈμ›ν¬λ¥Ό ν†µν• ν†µμ‹ μ„ λ³΄μ•ν•λ„λ΅ μ„¤κ³„λ μ›Ή ν†µμ‹  ν”„λ΅ν† μ½

  - κΈ°μ΅΄ HTTPλ” TCPμ™€ μ§μ ‘ ν†µμ‹ ν•μ§€λ§ HTTPSλ” SSL/TLSμ™€ ν†µμ‹ ν•¨

- ν¬νΈ λ„λ²„ 443

- μ  3μ μΈμ¦, κ³µκ°ν‚¤ μ•”νΈν™”, λΉ„λ°€ν‚¤ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•΄ λ³΄μ•

- μ ‘μ†ν• μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ CAλ΅λ¶€ν„° SSL μΈμ¦μ„ λ°κΈ‰λ°›μ•„μ•Ό ν•¨

  - CA(Certificate Authority) : SSL μΈμ¦μ„λ¥Ό λ³΄μ¥ν•΄μ£ΌκΈ° μ„ν• μ™Έλ¶€ κΈ°κ΄€
  - μΈμ¦μ„μ—λ” μ‚¬μ΄νΈμ μ •λ³΄μ™€ μ„λ²„μ κ³µκ°ν‚¤λ¥Ό ν¬ν•¨

- λ‹¨μ  : 

  1. SSLμ„ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— μ²λ¦¬κ°€ λ¦μ–΄μ§

     - HTTPλ¥Ό κΈ°λ°μΌλ΅ μ›Ήμ„λ²„μ™€ ν†µμ‹ μ„ ν•λ, μ•”νΈν™” ν†µμ‹ μ„ μ„ν• λ³„λ„μ ν‘μ κ³Όμ •μ„ κ±°μ³μ•Ό ν•κ³ , 

     - μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘ μ•”λ³µνΈν™” μ²λ¦¬κ°€ ν•„μ”ν•΄ CPUλ‚ ν•λ“μ›¨μ–΄ λ¦¬μ†μ¤ μ†λΉ„κ°€ λ¶κ°€ν”Όν•¨

     - HTTPSλ” HTTPμ— λΉ„ν•΄ μ•½ 2~100λ°° λλ¦¬λ‹¤κ³  ν•λ‹¤.

  2. μΈμ¦ κΈ°κ΄€μ„ ν†µν•΄ μΈμ¦μ„λ¥Ό κµ¬μ…ν•΄μ•Ό ν•¨ (λΉ„μ© λ¬Έμ )

<br><br>

### HTTPSμ λ™μ‘ κ³Όμ •

- HTTPS μ—°κ²° κ³Όμ •(TLS Handshaking)μ—μ„λ” λ¨Όμ € `κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹`μ„ μ‚¬μ©ν•΄ ν΄λΌμ΄μ–ΈνΈ-μ„λ²„κ°„ μ„Έμ…ν‚¤ κµν™

- μ„Έμ…ν‚¤ κµν™μ΄ν›„ λ°μ΄ν„° μ†΅/μμ‹  κ³Όμ •μ—μ„λ” μ„Έμ…ν‚¤λ¥Ό μ‚¬μ©ν• `λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹`μΌλ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ

  > μ„Έμ…ν‚¤: μ£Όκ³ λ°›λ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” λ€μΉ­ν‚¤

<br><br><br>

# SSL (Secure Sockets Layer)

- μΈν„°λ„· μƒμ—μ„ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ „μ†΅ν•κΈ° μ„ν• μΈν„°λ„· μ•”νΈν™” ν†µμ‹  ν”„λ΅ν† μ½
- μ‘μ© κ³„μΈµκ³Ό μ „μ†΅κ³„μΈµ μ‚¬μ΄μ—μ„ λ…λ¦½μ μΌλ΅ λ™μ‘
  - Applicationμ€ SSLμ„ TCPλ΅ μΈμ‹ν•κ³ , TCPλ” SSLμ„ ApplicationμΌλ΅ μΈμ‹

<br>

### μ•”νΈν™”

- SSLμ€ λ³΄μ•κ³Ό μ„±λ¥ μƒμ μ΄μ λ΅ λ‘ κ°€μ§€ μ•”νΈν™” κΈ°λ²•μ„ νΌμ©ν•΄μ„ μ‚¬μ©ν•¨
- ν‚¤(Key) : μ•”νΈλ¥Ό λ§λ“λ” ν–‰μ„μΈ μ•”νΈν™”λ¥Ό ν•  λ• μ‚¬μ©ν•λ” μΌμΆ…μ λΉ„λ°€λ²νΈ

<br>

#### 1) λ€μΉ­ν‚¤

- μ•”νΈν™”μ™€ λ³µνΈν™”μ— κ°™μ€ μ•”νΈν‚¤λ¥Ό μ‚¬μ©ν•λ” κΈ°λ²•
- μ•”νΈν™” λ° λ³µνΈν™”κ°€ λΉ λ¦„
- λ€μΉ­ν‚¤λ¥Ό κ³µμ ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— λ€μΉ­ν‚¤κ°€ μ μ¶λλ” ν•΄ν‚Ήμ μ„ν—μ— λ…Έμ¶λ  μ μμ

<br>

#### 2) κ³µκ°ν‚¤

- μ•”νΈν™”μ™€ λ³µνΈν™”μ— μ‚¬μ©ν•λ” μ•”νΈν‚¤λ¥Ό λ¶„λ¦¬
  - λΉ„λ°€ν‚¤ (Private Key) : μμ‹ μ΄ κ°€μ§€κ³  μλ” κ³ μ ν• μ•”νΈν‚¤
  - κ³µκ°ν‚¤ (Public Key) : λ€μ¤‘μ— κ³µκ°λλ” ν‚¤. λΉ„λ°€ν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μμ.

<br>

#### 3) λ€μΉ­ν‚¤μ™€ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν• SSL μ•”νΈν™” κΈ°λ²•

- μ•”νΈν™”λ” λ€μΉ­ν‚¤ λ°©μ‹μ„ μ‚¬μ©ν•κ³ , ν‚¤λ¥Ό μ „λ‹¬ν•λ” λ°©μ‹μ€ κ³µκ°ν‚¤ λ°©μ‹μ„ μ‚¬μ©ν•¨

1. Bλ” Aμ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•΄ Bμ λ€μΉ­ν‚¤λ¥Ό μ•”νΈν™” ν•΄μ„ μ „λ‹¬
2. Aλ„ μ„μ™€ κ°™μ€ μ μ°¨ μν–‰
3. Aμ™€ Bλ” μ„λ΅μ λ€μΉ­ν‚¤λ¥Ό λ³΄μ ν•κ³  μκΈ° λ•λ¬Έμ— μ„λ΅μ λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ μ „λ‹¬ κ°€λ¥
   - μ„λ΅μ λ€μΉ­ν‚¤λ΅ μ•”νΈν™”λ¥Ό ν•κΈ° λ•λ¬Έμ— λΉ„μ© κ°μ† (κ³µκ°ν‚¤ λ‹¨μ  λ³΄μ™„)
   - κ³µκ°ν‚¤ λ°©μ‹μ„ ν†µν•΄ ν‚¤ μ „λ‹¬μ λ³΄μ• μ„ν— ν•΄κ²° (λ€μΉ­ν‚¤ λ‹¨μ  λ³΄μ™„)

<br>

#### μ‹¤μ  μ‚¬μ© μ‹λ‚λ¦¬μ¤

1. μΈν„°λ„· μ‚¬μ΄νΈλ” μμ‹ μ μ •λ³΄μ™€ κ³µκ°ν‚¤λ¥Ό μΈμ¦κΈ°κ΄€(CA)μ— μ μ¶

2. μΈμ¦κΈ°κ΄€μ€ κ²€μ¦μ„ κ±°μΉ ν›„ μ‚¬μ΄νΈ μ •λ³΄μ™€ κ³µκ°ν‚¤λ¥Ό **μΈμ¦κΈ°κ΄€μ κ°μΈν‚¤**λ΅ μ•”νΈν™” (μ‚¬μ΄νΈ μΈμ¦μ„)

3. μΈμ¦κΈ°κ΄€μ€ μ›Ή λΈλΌμ°μ €μ—κ² **μΈμ¦κΈ°κ΄€μ κ³µκ°ν‚¤**λ¥Ό μ κ³µ

4. μ‚¬μ©μκ°€ μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈ μ ‘μ† μ‹, μ‚¬μ΄νΈλ” μΈμ¦μ„λ¥Ό μ›Ή λΈλΌμ°μ €μ—κ² λ³΄λƒ„

   (μ‚¬μ΄νΈ μΈμ¦μ„μ—λ” μΈμ¦κΈ°κ΄€μ κ°μΈν‚¤λ΅ μ•”νΈν™”λ μ‚¬μ΄νΈμ μ •λ³΄ λ° κ³µκ°ν‚¤κ°€ μμ)

   <br>

5. μ›Ή λΈλΌμ°μ €λ” μΈμ¦ κΈ°κ΄€μ κ³µκ°ν‚¤λ΅ μ„λ²„ μΈμ¦μ„λ¥Ό ν•΄λ…ν•΄ κ²€μ¦

6. μ—¬κΈ°μ„ μ–»μ€ **μ‚¬μ΄νΈ κ³µκ°ν‚¤**λ΅ μ›Ή λΈλΌμ°μ €μ λ€μΉ­ν‚¤λ¥Ό μ•”νΈν™”ν•΄μ„ λ³΄λƒ„

7. μ‚¬μ΄νΈλ” κ³µκ°ν‚¤λ΅ μ•”νΈν™” λ λ‚΄μ©μ„ κ°μΈν‚¤λ΅ λ³µνΈν™”ν•΄μ„ μ‚¬μ©μμ λ€μΉ­ν‚¤λ¥Ό μ–»μ

8. μ‚¬μ΄νΈμ™€ μ›Ή λΈλΌμ°μ €λ” μ„λ΅μ λ€μΉ­ν‚¤λ¥Ό μ΄μ©ν•΄ μ•”νΈλ¬Έμ„ μ£Όκ³  λ°›μ

<br>

> βοΈ μ—¬κΈ°μ„ μ κΉ! 
>
> SSL μΈμ¦μ„ λ°κΈ‰ κ³Όμ •
>
> - μ„λ²„λ” μΈμ¦κΈ°κ΄€(CA)μ— λμ„ μ§€λ¶ν•κ³ , κ³µκ°ν‚¤λ¥Ό μ €μ¥ν•λ” μΈμ¦μ„ λ°κΈ‰μ„ μ”μ²­
> - CA κΈ°μ—…μ€ CA κΈ°μ—…μ μ΄λ¦„, μ„λ²„μ κ³µκ°ν‚¤, μ„λ²„μ μ •λ³΄ λ“±μ„ κΈ°λ°μΌλ΅ μΈμ¦μ„λ¥Ό μƒμ„±ν•κ³  CAκΈ°μ—…μ κ°μΈν‚¤λ΅ μ•”νΈν™”ν•΄ μ „λ‹¬

- μΈμ¦μ„λ” CAμ κ°μΈν‚¤λ΅ μ•”νΈν™”λμ—κΈ° λ•λ¬Έμ— μ‹ λΆ°μ„±μ„ ν™•λ³΄ν•  μ μκ³ ,
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ κ³µκ°ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν–κΈ° λ•λ¬Έμ— μ„λ²„λ§ λ³µνΈν™”κ°€ κ°€λ¥ν•¨
- ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ—λ” μΈμ¦λ CA κΈ°κ΄€ μ •λ³΄λ“¤μ΄ μ‚¬μ „μ— λ“±λ΅λμ–΄ μμ–΄ μΈμ¦λ CA κΈ°κ΄€μ μΈμ¦μ„κ°€ μ•„λ‹λ©΄ `"NOT SECURE"` ν‘μ‹κ°€ ν™”λ©΄μ— μ¶λ ¥λλ‹¤.

<br>

> βοΈ μ—¬κΈ°μ„ μ κΉ!
>
> CA(Certificate Authority) λ” λ„κ°€ ν•λ‚?
>
> μ•„λ¬΄ κΈ°μ—…μ΄λ‚ ν•  μ μλ” κ²ƒμ΄ μ•„λ‹λΌ μ‹ λΆ°μ„±μ΄ μ—„κ²©ν•κ² κ³µμΈλ κΈ°μ—…λ“¤λ§ μ°Έμ—¬ν•  μ μλ‹¤.
>
> IdenTrust with 48.9 / DigiCert with 18.7 / Sectigo with 15.5 - ([μ„ν‚¤ν”Όλ””μ•„ μ°Έμ΅°](https://en.wikipedia.org/wiki/Certificate_authority))

<br><br><br>

# TLS(Transport Layer Security)

- TLSλ” μ•μ „ν• μΈν„°λ„· ν†µμ‹ μ„ μ„ν• `μ•”νΈν™” ν”„λ΅ν† μ½`
- **λ©μ ** : TCPλ΅ λ°μ΄ν„° λ³΄λ‚΄λ”λ°, μ†΅μμ‹ μ μ™Έμ— λ°μ΄ν„°λ¥Ό λ³΄κ±°λ‚ μ΅°μ‘ν•μ§€ λ»ν•λ„λ΅ ν•κ² λ‹¤!

- TLSλ¥Ό μ‚¬μ©ν•λ” μ• ν”λ¦¬μΌ€μ΄μ… ν”„λ΅ν† μ½μ€ λμ— Sκ°€ λ¶™λ”λ‹¤.
  - TLS κΈ°λ°μ HTTPλ” HTTPS
  - TLS κΈ°λ°μ FTPλ” FTPS

> βοΈμ—¬κΈ°μ„ μ κΉ!
> SSLμ€ Netscapeμ—μ„ λ§λ“  μ†”λ£¨μ…μΌλ΅ ver3.0μ΄ λ‚μ™”μ„ λ•, IETFμ—μ„ μΈν„°λ„· ν‘μ¤€μ„ μ •ν•μλ©΄μ„ TLSλ¥Ό μ μ•ν–λ‹¤.
> TLS λ²„μ „ 1.0μ€ SSL λ²„μ „ 3.1λ΅μ„ κ°λ°μ„ μ‹μ‘ν–μ§€λ§ Netscapeμ™€ λ” μ΄μƒ μ—°κ΄€μ΄ μ—†μμ„ λ…μ‹ν•κΈ° μ„ν•΄ λ°ν‘ μ „μ— ν”„λ΅ν† μ½μ μ΄λ¦„μ΄ λ³€κ²½λμ—μ.
> λ‹¤λ§ SSLκ³Ό TLS μ©μ–΄λ¥Ό νΌμ©ν•΄μ„ λ§μ΄ μ‚¬μ©ν•¨.

<br>

#### μ κ³µν•λ” λ³΄μ• μ„λΉ„μ¤

1. κΈ°λ°€μ„± : `λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹`μ„ μ‚¬μ©ν•κ² λλ©΄ κΈ°λ°€μ„±μ„ μ κ³µν•  μ μμµλ‹λ‹¤.
2. λ¬΄κ²°μ„± : λ©”μ‹μ§€ μΈμ¦ μ½”λ“(MAC)λ¥Ό ν†µν•΄ λ©”μ‹μ§€ `μ„/λ³€μ΅° μ—¬λ¶€ ν™•μΈ` κ°€λ¥
3. μΈμ¦ : μ—°κ²° μ΄κΈ° μ„¤μ •μ—μ„ μ£Όκ³  λ°›λ” μΈμ¦μ„λ¥Ό ν†µν•΄ μ‹ λΆ°ν•  μ μλ” μ„λ²„μΈμ§€ μΈμ¦κ°€λ¥

- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ κ°κ° 3κ°μ”© μ΄ 6κ°μ Key κ°€ ν•„μ”ν•λ‹¤.

  - MAC secret : HMAC μ‚¬μ©ν•΄μ„ ν•„μ”ν•¨

  - Key : μ•”λ³µνΈν™”λ¥Ό μ„ν• Key

  - IV(Initialization Vectors) : CBC λ¨λ“μ—μ„ μ‚¬μ©

<br>

> βοΈμ—¬κΈ°μ„ μ κΉ!
>
> MAC: Message Authentication Code μ΄λ€?
>
> - μƒλ€λ°©μ΄ λ³΄λ‚Έ μ•”νΈν™”λ°μ΄ν„°κ°€ λ³€μ΅°λ κ²ƒμΈμ§€, μ•„λ‹μ§€λ¥Ό νλ‹¨ν•λ” μ—­ν• 
> - `λ©”μ‹μ§€ + λ€μΉ­ν‚¤`λ¥Ό MAC μ•κ³ λ¦¬μ¦μ„ μ μ©ν•μ—¬ `MD(Message Digest)` μƒμ„± ν›„ λ©”μ‹μ§€μ™€ ν•¨κ» λ³΄λƒ„
> - μμ‹ μλ” μ „λ‹¬λ°›μ€ λ©”μ‹μ§€λ¥Ό λ€μΉ­ν‚¤μ™€ ν•¨κ» MAC μ•κ³ λ¦¬μ¦μ„ μ μ©μ‹μΌ MD μƒμ„± ν›„ μμ‹ μ΄ λ°›μ€ MDμ™€ μΌμΉμ—¬λ¶€ κ²€μ¦

<br>

### TLSμ μ„Έλ¶€ ν”„λ΅ν† μ½

[![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-10-03 α„‹α…©α„’α…® 8 59 27](https://user-images.githubusercontent.com/75410527/193571726-80fcd357-f320-46ae-a798-e2877cbafa5b.png)](https://user-images.githubusercontent.com/75410527/193571726-80fcd357-f320-46ae-a798-e2877cbafa5b.png)

- Handshake π : μ–‘μ½ κ°„μ— μ—°κ²°μ„ μ„¤μ •ν• λ• λ³΄μ• ν‘μƒμ„ μ„ν• ν”„λ΅ν† μ½
- Change Cipher Spec : λ³΄μ• νλΌλ―Έν„°λ¥Ό λ³€κ²½ν•κ±°λ‚ μ μ©ν• λ• μ‚¬μ©.
  - μλ¥Ό λ“¤μ–΄ λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μ„ λ³€κ²½ν• λ• μ΄ ν”„λ΅ν† μ½μ„ μ‚¬μ©

- Alert : μ¤λ¥ μ „μ†΅
- Record : λ°μ΄ν„° μ „μ†΅
  1. μ‘μ© μΈµ λ°μ΄ν„°λ¥Ό Fragmentλ΅ μλ¥΄κ³ 
  2. (μ••μ¶•ν• ν›„) MAC μ¶”κ°€
  3. μ•”νΈν™” μ§„ν–‰ν•κ³ , TLS Record header λ¶™μ΄κΈ°
  4. TCP ν†µν•΄ μ „μ†΅

<br>

- Heartbeat Protocol : μ£Όλ΅ μƒλ€λ°©μ΄ μ‘λ‹µ κ°€λ¥ν•μ§€ ν™•μΈν•κΈ° μ„ν•΄ μ‚¬μ©
  - TLSλ” μ•„λ‹λ°, μ΄ μ •λ³΄λ¥Ό Record ν”„λ΅ν† μ½μ— μ‹¤μ–΄μ„ μ „λ‹¬ν•  μ μλ‹¤.
  - synchro κ°€λ¦¬ν‚¤λ” H/W λλ” S/Wμ—μ„ μƒμ„±λλ” μ£ΌκΈ°μ μΈ μ‹ νΈ
  - Handshake ν”„λ΅ν† μ½ Phase1μ—μ„ μ‚¬μ©μ—¬λ¶€λ¥Ό κ²°μ •ν•λ‹¤.
    - μμ‹ μκ°€ Alive μΈμ§€ ν™•μΈ
    - μλ―Έ μλ” μ •λ³΄ κµν™μ„ μ§€κΈ λ»ν•λ”λΌλ„ μ—°κ²°μ€ μ μ§€ν•κ³  μ‹¶μ€ κ²½μ° 

<br><br>

### TLS ν•Έλ“μ…°μ΄ν¬

- μ‚¬μ©ν•   `TLS λ²„μ „`(TLS 1.0, 1.2, 1.3 λ“±) μ§€μ •
- μ‚¬μ©ν•  `μ•”νΈν™” μ•κ³ λ¦¬μ¦` κ²°μ •
- μ„λ²„μ κ³µκ° ν‚¤μ™€ SSL μΈμ¦μ„ κΈ°κ΄€μ λ””μ§€ν„Έ μ„λ…μ„ ν†µν•΄ `μ„λ²„μ IDλ¥Ό μΈμ¦`ν•λ‹¤.
- ν•Έλ“μ…°μ΄ν¬κ°€ μ™„λ£λ ν›„μ— λ€μΉ­ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•μ—¬ `μ„Έμ… ν‚¤λ¥Ό μƒμ„±`

<br>

[![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-10-03 α„‹α…©α„’α…® 8 15 16](https://user-images.githubusercontent.com/75410527/193564193-bf20b57a-b1e9-487c-bb63-094b28fd2a45.png)](https://user-images.githubusercontent.com/75410527/193564193-bf20b57a-b1e9-487c-bb63-094b28fd2a45.png)

<br>

#### 1. Client Hello

- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ "ν—¬λ΅" λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ©΄μ„ ν•Έλ“μ…°μ΄ν¬λ¥Ό κ°μ‹

  1. ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)κ°€ μ§€μ›ν•λ” `TLS λ²„μ „`

  2. ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ—μ„ μ‚¬μ©κ°€λ¥ν• `μ•”νΈν™” λ°©μ‹ λ¨μ(cipher suite)`

     μλ¥Ό λ“¤μ–΄ **TLS_RSA_WITH_AES_128_GCM_SHA256**μ΄λ©΄, ν‚¤ κµν™ μ•κ³ λ¦¬μ¦μ€ RSA, λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μ€ AES_128_GCM, Hash μ•κ³ λ¦¬μ¦μ€ SHA256μ„ μ‚¬μ©ν•λ‹¤λ” κ²ƒ

  3. ν΄λΌμ΄μ–ΈνΈκ°€ μƒμ„±ν• μ„μμ λ‚μ(μ«μ)

  4. λ§μ•½μ— μ΄μ „μ— TLS ν•Έλ“ μ…°μ΄ν¬κ°€ μ™„λ£λ μƒνƒλΌλ©΄, κ·Έλ• μƒμ„±λ μ„Έμ… μ•„μ΄λ””(Session ID)

  > βοΈμ—¬κΈ°μ„ μ κΉ!
  > μ•”νΈν™” λ°©μ‹ λ¨μ cipher suite μ΄λ€?
  >
  > λ³΄μ•μ κ¶κ·Ήμ  λ©ν‘λ¥Ό λ‹¬μ„±ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” λ°©μ‹μ„ ν¨ν‚¤μ§€ ν•νƒλ΅ λ¬¶μ–΄λ†“μ€ κ²ƒ
  >
  > - μ•μ „ν• ν‚¤κµν™
  > - μ „λ‹¬ λ€μƒ μΈμ¦
  > - μ•”νΈν™” μ•κ³ λ¦¬μ¦
  > - λ©”μ‹μ§€ λ¬΄κ²°μ„± ν™•μΈ μ•κ³ λ¦¬μ¦

<br>

#### 2. Server Hello

- ν΄λΌμ΄μ–ΈνΈ ν—¬λ΅ λ©”μ‹μ§€μ— λ€ν• μ„λ²„μ μ‘λ‹µ

  1. `μ„λ²„μ κ³µκ°ν‚¤κ°€ λ‹΄κΈ΄ SSL μΈμ¦μ„`. 

     μ΄ μΈμ¦μ„λ” CAμ λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”λμ–΄ λ°κΈ‰λ μƒνƒ

  2. ν΄λΌμ΄μ–ΈνΈμ μ•”νΈν™” λ°©μ‹ λ¨μ μ¤‘μ—μ„, μ„λ²„κ°€ μ§€μ›ν•κ³  μ„ νƒν• `μ•”νΈν™” λ°©μ‹(cipher suite)`

  3. μ„λ²„κ°€ μƒμ„±ν• μ„μμ λ‚μ(μ«μ)

<br>

#### 3. Server certificate (μ„λ²„ μΈμ¦μ„ ν™•μΈ)

> λ€λ¶€λ¶„μ λΈλΌμ°μ €μ—λ” κ³µμ‹ λ ¥ μλ” CAλ“¤μ μ •λ³΄μ™€ CAκ°€ λ§λ“  κ³µκ°ν‚¤κ°€ μ΄λ―Έ μ„¤μΉλμ–΄ μλ‹¤.
> κ·Έλμ„ μ„λ²„κ°€ λ³΄λ‚Έ SSL μΈμ¦μ„κ°€ μ •λ§ CAκ°€ λ§λ“  κ²ƒμΈμ§€ ν™•μΈν•κΈ° μ„ν•΄ λ‚΄μ¥λ CA κ³µκ°ν‚¤λ΅ μ•”νΈν™”λ μΈμ¦μ„λ¥Ό λ³µνΈν™”ν•΄λ³Έλ‹¤.

- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅λ¶€ν„° λ°›μ€ `SSL μΈμ¦μ„`λ¥Ό `μΈμ¦μ„ λ°ν–‰ κΈ°κ΄€μ κ³µκ°ν‚¤`λ¥Ό ν†µν•΄ κ²€μ¦
  - μ„λ²„κ°€ μΈμ¦μ„μ— λ…μ‹λ μ„λ²„μΈμ§€
  - ν΄λΌμ΄μ–ΈνΈκ°€ μƒνΈμ‘μ© μ¤‘μΈ μ„λ²„κ°€ μ‹¤μ  ν•΄λ‹Ή λ„λ©”μΈμ μ†μ μμΈμ§€

<br>

#### 4. Client key exchange (pre-master-secret μ „λ‹¬)

- λΈλΌμ°μ €κ°€ `μμ‹ μ΄ μƒμ„±ν• λ‚μ`μ™€ `μ„λ²„κ°€ μƒμ„±ν• λ‚μ`λ¥Ό μ‚¬μ©ν•μ—¬ `pre-master-secret`μ΄λΌκ³ ν•λ” λ¬΄μ‘μ„ λ°”μ΄νΈ λ¬Έμμ—΄μ„ μƒμ„±
- pre-master-secretμ„ μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ„λ²„λ΅ μ „μ†΅

<br>

#### 5. Pre-master Secret λ³µνΈν™”

- μ„λ²„λ” μμ‹ μ κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λΈλΌμ°μ €κ°€ λ³΄λ‚Έ `pre-master-secret`μ„ λ³µνΈν™”

<br>

#### 6. Handshake μΆ…λ£ λ° HTTPS ν†µμ‹  μ‹μ‘

- μ„Έμ… ν‚¤ μƒμ„± : μ΄κ²ƒμΌλ΅ λΈλΌμ°μ €μ™€ μ„λ²„ μ‚¬μ΄μ— μ£Όκ³  λ°›λ” λ°μ΄ν„°λ¥Ό μ•”λ³µνΈν™”
  - HTTPS ν†µμ‹ μ΄ μ™„λ£λλ” μ‹μ μ—μ„ μ„λ΅μ—κ² κ³µμ λ μ„Έμ… ν‚¤λ¥Ό νκΈ°

- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ κ°κ° μ„Έμ… ν‚¤λ΅ μ•”νΈν™”λ "μ™„λ£" λ©”μ„Έμ§€λ¥Ό μ „μ†΅ν•¨μΌλ΅ μ¤€λΉ„ μ™„λ£λ¥Ό μ•λ¦¬κ³ 
- HTTPS ν†µμ‹  μ‹μ‘ (μ„Έμ… ν‚¤ μ΄μ©ν• λ€μΉ­ν‚¤ μ•”νΈν™”)

<br><br>

## HSTS(HTTP Strict Transport Security)

- Web Siteμ— μ ‘μ†ν•  λ•, κ°•μ μ μΌλ΅ HTTPS Protocolλ΅λ§ μ ‘μ†ν•κ² ν•λ” κΈ°λ¥
- μ¦‰, HTTPS Protocolμ„ μ§€μ›ν•λ” Web Siteμ—μ„ μμ‹ μ€ HTTPSλ§ μ‚¬μ©ν•΄μ„ ν†µμ‹ ν•  μ μμμ„ Web Browserμ—κ² μ•λ ¤ μ£Όλ” κΈ°λ¥

<br>

#### HSTS κΈ°λ¥μ„ μ‚¬μ©ν•λ” λ©μ 

> λ¦¬λ‹¤μ΄λ ‰νΈ μ‘λ‹µμ„ ν†µν• HTTPS κ°•μ  λ°©λ²•μ ν•κ³„

- μ›Ή λΈλΌμ°μ €κ°€ HTTP Protocol λ΅ νΉμ • λ„λ©”μΈμ— μ ‘μ†μ„ μ‹λ„ν•λ” κ²½μ°, ν•΄λ‹Ή λ„λ©”μΈμ΄ HTTPS ν”„λ΅ν† μ½λ§μ„ μ§€μ›ν•λ” μ›Ήμ‚¬μ΄νΈλΌλ©΄ β€301 Redirectβ€ λλ” β€302 Redirectβ€ μ‘λ‹µμ„ λ³΄λ‚΄ μ›Ή λΈλΌμ°μ €κ°€ HTTPSλ΅ λ‹¤μ‹ μ ‘μ†ν•λΌκ³  redirect ν•μ—¬ `HTTPSλ¥Ό ν†µν•΄ μ›Ήμ‚¬μ΄νΈμ™€ ν†µμ‹ `ν•λ‹¤.
- κ·Έλ¬λ‚ μ΄ κ²½μ° ν•΄μ»¤μ™€ κ°™μ€ κ³µκ²©μκ°€ μ¤‘κ°„μκ³µκ²©(MITM attack)μ„ ν•μ—¬ μ¤‘κ°„μ— `Proxy Server`λ¥Ό λ‘κ³  μ‚¬μ©μμ™€λ” HTTP ν†µμ‹ μ„ ν•κ³  μ‹¤μ  μ‚¬μ΄νΈμ™€λ” HTTPS ν†µμ‹ μ„ ν•λ” λ¬Έμ κ°€ λ°μƒν•  μ μλ‹¤.
- μ¦‰, μ‚¬μ©μκ°€ μ‹¤μ  μ‚¬μ΄νΈμ™€ μ£Όκ³  λ°›λ” λ¨λ“  μ •λ³΄λ” κ³µκ²©μμ—κ² λ…Έμ¶λ  μ μλ‹¤. μ΄λ¬ν• κ³µκ²© λ°©μ§€ν•κΈ° μ„ν•μ—¬ HSTSλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.

> μ¦‰ μ‚¬μ©μκ°€ μ‹¤μλ΅ HTTPS Protocolμ„ μ§€μ›ν•λ” Siteλ¥Ό, HTTP Protocolλ΅ μ ‘μ† ν–μ„ λ•,
> μ¤‘κ°„μ κ³µκ²©μ— μν•΄, HTTP Protocolμ„ μ‚¬μ©ν• ν†µμ‹ μ„ ν•κ² λκ³ , μ΄λ΅ μΈν•΄ ν†µμ‹  μ •λ³΄κ°€ κ³µκ²©μμ—κ² λ…Έμ¶μ΄ λλ” κ²ƒμ„ λ°©μ§€ν•κ³ μ ν•λ” λ©μ 

<br>

#### HSTS κΈ°λ¥μ λ™μ‘

- HSTSλ¥Ό μ§€μ›ν•λ” Web Browserλ” λ‚΄λ¶€μ— HSTS Listλ¥Ό λ³΄μ ν•κ³  μλ‹¤. 
- μ¦‰ HTTPS Protocolμ„ μ‚¬μ©ν•΄μ•Όλ§ ν•λ” Web Siteμ— λ€ν• μ •λ³΄λ¥Ό κ°€μ§€κ³  μλ‹¤.

1. ν΄λΌμ΄μ–ΈνΈκ°€ HTTPλ΅ μ ‘μ†μ„ μ‹λ„ν•λ” κ²½μ°, λ¨Όμ € λΈλΌμ°μ €μ—μ„ HSTS μ„¤μ •λ λ„λ©”μΈμΈμ§€ ν™•μΈ(HTTP μ”μ²­ λ³΄λ‚΄μ§€ μ•μ)
2. HSTSλ μ‚¬μ΄νΈμ— λ€ν•΄ λΈλΌμ°μ €λ” HTTPSλ΅ μ„λ²„μ— μ”μ²­ν•λ‹¤. (μ¤‘κ°„μλ” SSLλ΅ μ•”νΈν™”λ ν¨ν‚·μ„ λ„μ²­ν•  μ μ—†λ‹¤.)
3. μ„λ²„κ°€ HTTPS μ”μ²­μ— λ€ν• μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.
   - μ›Ήμ„λ²„λ” HTTPS Reply Messageμ— HSTS Policyλ¥Ό λ„£μ–΄μ„ λ³΄λ‚Έλ‹¤.
4. μ„λ²„λ΅ λ¶€ν„° λ°›μ€ μ‘λ‹µμ„ ν†µν•΄ HSTS Listλ¥Ό κµ¬μ„±ν•λ‹¤.
   - HSTSλ” HTTPSλ΅ μ›Ή μ‚¬μ΄νΈμ— μ ‘μ†ν•κΈ° μ„ν•΄ μ μ–΄λ„ ν•λ² μ›Ή μ„λ²„μ™€ ν†µμ‹ μ„ ν•΄μ•Όν•λ”λ°, ν†µμ‹  μ „μ— λ―Έλ¦¬ HTTPSλ΅ μ ‘μ†ν•λ„λ΅ λ©λ΅μ„ λ―Έλ¦¬ λ§λ“¤μ–΄ λ†“μ€ κ²ƒ.
   - λΈλΌμ°μ €μ—μ„ μ§€μ›ν•λ” κΈ°λ¥μ΄λ©°, κµ¬κΈ€ ν¬λ΅¬μ΄ μ£Όλ„ν•λ” HSTS Preload Listκ°€ μ£Όλ΅ μ‚¬μ©λλ‹¤. (ν¬λ΅¬ λΏλ§ μ•„λ‹λΌ μ—£μ§€, μ‚¬νλ¦¬, νμ΄μ–΄ν­μ¤ λ“± λ‹¤μ–‘ν• λΈλΌμ°μ €λ„ μ΄λ¥Ό μ§€μ›)
   - ν•΄λ‹Ή λ¦¬μ¤νΈμ— μ‚¬μ΄νΈκ°€ λ“±λ΅λλ©΄ μ΄ν›„ μ—…λ°μ΄νΈλλ” λΈλΌμ°μ €λ” λ“±λ΅λ λ„λ©”μΈμ„ `λ¬΄μ΅°κ±΄μ μΌλ΅ HTTPSλ΅ μ—°κ²°`ν•λ©°, HTTPSκ°€ μ§€μ›λμ§€ μ•λ” κ²½μ° μ—°κ²° μμ²΄κ°€ λ¶κ°€ν•κ² λλ‹¤.

<br>

#### HSTS μ μ©λ°©λ²•

- HSTSλ” μ›Ήμ„λ²„μ—μ„ μ‘λ‹µν•΄μ£Όλ” ν—¤λ”μ— μµμ΄ ν¬ν•¨λμ–΄ μλ” λ§νΌ `μ›Ήμ„λ²„μ—μ„ μ„¤μ •` ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.
- μ„¤μ • λ°©λ²•μ€ HTTP μ‘λ‹µ ν—¤λ”μ— `Strict-Transport-Security`λΌλ” ν•„λ“λ¥Ό λ‚΄λ ¤μ£Όλ©΄ λλ‹¤.
- ν•΄λ‹Ή μ‘λ‹µμ„ λ°›μ€ λΈλΌμ°μ €λ” κ·Έ μ‚¬μ΄νΈμ— μ ‘μ†ν•  λ• λ¬΄μ΅°κ±΄ HTTPSλ΅λ§ μ—°κ²°ν•λ‹¤.
- HSTS response header μ”μ†
  - max-age=31536000 : HSTSκ°€ λΈλΌμ°μ €μ— μ„¤μ •λ  μ‹κ°„. μ΄λ‹¨μ„λ΅, 63072000μ€ 2λ…„μ„ μλ―Έ
  - includeSubdomains : HSTSκ°€ μ μ©λ  λ„λ©”μΈμ μ„λΈ λ„λ©”μΈμ—λ„ HSTSλ¥Ό μ μ©ν•λ‹¤.
  - preload : λΈλΌμ°μ €κ°€ ν•΄λ‹Ή μ‚¬μ΄νΈλ¥Ό HSTS μ μ© preload listμ— μ¶”κ°€ν•λ„λ΅ ν•λ‹¤.

```
# μμ‹
Strict-Transport-Security: max-age=63072000; includeSubDomains; preload
```

<br><br><br>

# μ¶”κ°€

### μ›Ήμ΄ λ°›μ„ μ μλ” κ³µκ²©

#### 1. μ ν•©ν•μ§€ μ•μ€ λ°©λ²•μΌλ΅μ λ°μ΄ν„° λ³€κ²½ (λ¬΄κ²°μ„±)

- μ •λ³΄ μ†μ‹¤ λ°μƒ
- μ•”νΈν™” λλ” checksumμΌλ΅ λ€μ‘

<br>

#### 2. λ„· μƒμ λ„μ²­, μ¤λ‹ν•‘ (κΈ°λ°€μ„±)

- μ •λ³΄ μ†μ‹¤κ³Ό Privacy μ†μƒ
- μ•”νΈν™” λλ” Web proxies(IP κ°μ¶”κΈ°)

<br>

#### 3. DoS (user thread μ£½μ΄κΈ°, μ„λ²„μ— request μ§‘μ¤‘λκ² ν•κΈ°) - μ‚¬μ©μ„±

- μ§μ¦λ‚κ³  νκ΄΄μ μΈ κ³µκ²©
- λ§‰κΈ° μ‰½μ§€ μ•μ

<br>

#### 4. μ •μƒ μ‚¬μ©μλ΅ μ„μ¥ (λ°μ΄ν„° μ΅°μ‘) - μΈμ¦

- μ‚¬μ©μλ΅ μ¤μΈν•¨μΌλ΅ λ°μƒ -> κ±°μ§“ μ •λ³΄λ¥Ό λ―Ώκ² λ¨
- μ•”νΈν™” κΈ°μ μ„ ν†µν•΄ λ€μ‘ (μΈμ¦)

<br><br>

### μΈμ¦κΈ°κ΄€ CAλ¥Ό ν†µν• μΈμ¦μ„ ν•λ” μ΄μ 

- μ„λ΅κ°„ κ³µκ°ν‚¤λ¥Ό μΈμ¦ν•μ§€ λ»ν•λ©΄ MiM κ³µκ²©μ— μ·¨μ•½ν•κΈ° λ•λ¬Έμ΄λ‹¤.
- HTTPSλ” μ „λ‹¬ κµ¬κ°„μ— λ€ν• λ³΄μ• κΈ°μ μ΄κΈ° λ•λ¬Έμ— HTTPSλ” μ μ§€λμ§€λ§ μ „λ‹¬ν•λ” λ‚΄μ©μ€ κ³ μ¤λ€ν λ…Έμ¶λ  μλ„ μλ‹¤.

<br>

#### μ¤‘κ°„μ κ³µκ²©(Man in the middle attack)

- λ„¤νΈμ›ν¬ ν†µμ‹ μ„ μ΅°μ‘ν•μ—¬ ν†µμ‹  λ‚΄μ©μ„ λ„μ²­ν•κ±°λ‚ μ΅°μ‘ν•λ” κ³µκ²© κΈ°λ²•

- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ SSL μΈμ¦μ„λ¥Ό κ²€μ¦ν•λ” κ³Όμ •μ„ μƒλµν•λ” λ“± λ¶μ™„μ „ν•κ² κµ¬ν„ν•λ” κ²½μ°

  κ³µκ²©μκ°€ SSL ν”„λ΅μ‹λ¥Ό μ΄μ©ν•λ” μ¤‘κ°„μ κ³µκ²©μ„ ν†µν•΄ μ •λ³΄λ¥Ό νƒμ·¨ν•κ±°λ‚ λ°”κΏ”μΉκΈ° ν•λ” λ“±μ

  κ³µκ²©μ΄ κ°€λ¥

- Alice ----------[ Trudy ]---------- Bob
  - Alice μ™€ Bobμ΄ ν†µμ‹ ν•λ ¤κ³  ν•λ” μƒν™©μ—μ„, 
  - Aliceμ™€ Bobμ€ μ„λ΅κ°€ μ—°κ²°λλ‹¤κ³  μƒκ°ν•μ§€λ§ μ‹¤μ λ΅λ” κ°κ° Trudyμ—κ² μ—°κ²°λ μƒνƒ 
  - Trudyλ” μ‚¬μ΄μ—μ„ μ •λ³΄λ¥Ό λ„μ²­ν•κ³  μ΅°μ‘ν• ν›„ μ „λ‹¬ν•λ‹¤.

<br>

# μμƒ μ§λ¬Έ

### HTTP / HTTPS

#### **HTTPμ™€ HTTPSμ— λ€ν•΄μ„ μ„¤λ…ν•΄μ£Όμ„Έμ”**

HTTPλ” μ›Ή μƒμ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— μ”μ²­/μ‘λ‹µμΌλ΅ μ •λ³΄λ¥Ό μ£Όκ³  λ°›μ„ μ μλ” ν”„λ΅ν† μ½μ΄λ‹¤. κ°€μ¥ ν° νΉμ§•μ€ Connectionlessμ™€ Stateless μ΄λ‹¤. κ·Έλ°λ°, HTTPλ” ν‰λ¬Έ ν†µμ‹ μ΄κΈ° λ•λ¬Έμ— λ„μ²­μ΄ κ°€λ¥ν•κ³  ν†µμ‹  μƒλ€λ¥Ό ν™•μΈν•μ§€ μ•κΈ° λ•λ¬Έμ— μ„μ¥μ΄ κ°€λ¥ν•λ‹¤. λν•, μ™„μ „μ„±μ„ μ¦λ…ν•  μ μ—†κΈ° λ•λ¬Έμ— λ³€μ΅°κ°€ κ°€λ¥ν•λ‹¤. κ·Έλμ„ μ΄κ²ƒμ„ κ°μ„ ν•κΈ° μ„ν•΄ HTTPS κ°€ λ“±μ¥ν•κ² λμ—λ‹¤.
HTTPS λ” μ›Ή ν†µμ‹  ν”„λ΅ν† μ½μΈ HTTPμ λ³΄μ•μ΄ κ°•ν™”λ λ²„μ „μ ν”„λ΅ν† μ½μ΄λ‹¤. μ›Ή μƒμ—μ„ μ •λ³΄λ¥Ό μ•”νΈν™”ν•λ” SSLμ΄λ‚ TLS ν”„λ΅ν† μ½μ„ ν†µν•΄ μ„Έμ… λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ‹¤. SSL μ„ μ‚¬μ©ν•μ—¬ μ•”νΈν™”μ™€ μ¦λ…μ„, μ•μ „μ„± λ³΄νΈλ¥Ό μ΄μ©ν•  μ μκ² λλ‹¤.

<br>

#### κµ¬κΈ€ ν¬λ΅¬ λΈλΌμ°μ €μ—μ„λ” HTTPS μ‚¬μ΄νΈλ” 'μ•μ „ν•¨'μΌλ΅ ν‘μ‹ν•κ³  HTTP μ‚¬μ΄νΈμ— λ€ν•΄μ„λ” 'μ•μ „ν•μ§€ μ•μ' κ²½κ³  ν‘μ‹λ¥Ό μ μ©ν•κ³  μλ”λ°μ”, κµ¬κΈ€μ€ μ™ κ²½κ³ λ¥Ό ν‘μ‹ν• κΉμ”?

HTTP μ„λ²„λ” μ •λ³΄λ¥Ό μ•”νΈν™”ν•μ§€ μ•μ€ ν…μ¤νΈλ΅ μ£Όκ³  λ°›κΈ° λ•λ¬Έμ— ν•΄μ»¤μ κ³µκ²©κ³Ό μ¤λ‹ν•‘μ— λ§¤μ° μ·¨μ•½ν•©λ‹λ‹¤. μ΄λ° λ³΄μ• λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ λ¨λ“  ν†µμ‹  λ‚΄μ©μ„ μ•”νΈν™”ν•λ” HTTPSλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.

<br>

#### κ·Έλ ‡λ‹¤λ©΄ μ™ μ•„μ§λ„ HTTPλ¥Ό μ‚¬μ©ν•λ” μ›Ήμ‚¬μ΄νΈκ°€ μμ„κΉμ”? (HTTPSμ λ‹¨μ )

- HTTPSκ°€ HTTPλ³΄λ‹¤ CPUλ‚ λ©”λ¨λ¦¬ λ“± λ¦¬μ†μ¤λ¥Ό λ§μ΄ μ†λΉ„ν•΄ ν• μ„λ²„λ‹Ή μ²λ¦¬ν•  μ μλ” λ¦¬ν€μ¤νΈ μκ°€ μ¤„μ–΄λ“¤κΈ° λ•λ¬Έμ…λ‹λ‹¤.
- μ—‘μ„Έμ¤κ°€ λ§μ€ μ›Ήμ‚¬μ΄νΈμ κ²½μ° μ•”λ³µνΈν™”μ— λ€ν• λ¶€ν•λ΅ μΈν•΄ μ¨κ²¨μ•Ό ν•λ” μ •λ³΄λ§ μ•”νΈν™”ν•΄ λ¦¬μ†μ¤λ¥Ό μ μ•½ν•κΈ°λ„ ν•©λ‹λ‹¤.
- λ ν•λ‚λ”, HTTPSλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” μΈμ¦κΈ°κ΄€μ„ ν†µν•΄ μ¦λ…μ„λ¥Ό κµ¬μ…ν•΄μ•Ό ν•λ”λ° μ΄ κ°€κ²©μ΄ λ¶€λ‹΄λλ” κ²½μ° HTTPλ¥Ό μ„ νƒν•΄ μ‚¬μ©ν•κΈ°λ„ ν•©λ‹λ‹¤.

<br><br>

### SSL/TLS

#### SSLμ€ μ™ λ€μΉ­ν‚¤μ™€ κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹μ„ νΌν•©ν•΄μ„ μ‚¬μ©ν• κΉμ”?

λ€μΉ­ν‚¤λ” μ•”λ³µνΈν™”κ°€ λΉ λ¥΄μ§€λ§ λ€μΉ­ν‚¤λ¥Ό κ³µμ ν•  λ• ν•΄ν‚Ήμ μ„ν—μ΄ μλ‹¤λ” λ‹¨μ μ΄ μκ³ , κ³µκ°ν‚¤λ” μ•”νΈν™”μ™€ λ³µνΈν™” ν‚¤λ¥Ό λ¶„λ¦¬ν•¨μΌλ΅μ¨ κ³µμ μ λ¬Έμ κ°€ μ—†μ§€λ§ μ•”λ³µνΈν™”μ— λΉ„μ©μ΄ λ” λ“ λ‹¤λ” λ‹¨μ μ΄ μμµλ‹λ‹¤.

μ΄ λ‘μ„ νΌν•©ν•΄μ„ μ‚¬μ©ν•¨μΌλ΅μ¨ μ„λ΅μ λ‹¨μ μ„ λ³΄μ™„ν•  μ μμµλ‹λ‹¤.

- κ³µκ°ν‚¤ λ°©μ‹μ„ ν†µν•΄ ν‚¤ μ „λ‹¬μ λ³΄μ• μ„ν— ν•΄κ²°ν•κ³  (λ€μΉ­ν‚¤ λ‹¨μ  λ³΄μ™„)

- μ„λ΅μ λ€μΉ­ν‚¤λ΅ μ•”νΈν™”λ¥Ό ν•¨μΌλ΅ λΉ„μ©μ„ κ°μ†μ‹ν‚µλ‹λ‹¤. (κ³µκ°ν‚¤ λ‹¨μ  λ³΄μ™„)

<br>

#### μΌλ°μ μΌλ΅ μΈμ¦λ κΈ°κ΄€(CA)μ—λ” μ–΄λ–¤ κ³³μ΄ μκ³ , μ‚¬μ©μμ™€ κΈ°μ—…μ€ ν•΄λ‹Ή κΈ°κ΄€μ„ μ–΄λ–»κ² μ‹ λΆ°ν•  μ μλ‚μ”?

<br>

#### λΈλΌμ°μ € μƒλ‹¨ ν‘μ‹μ¤„μ— μλ¬Όμ‡  μ•„μ΄μ½μ΄ ν‘μ‹λλ” κ²½μ°κ°€ μλ”λ°, μ΄κ²ƒμ΄ λ¬΄μ—‡μ„ μλ―Έν•λ”μ§€ μ•κ³  μλ‚μ”?

-> SSL μΈμ¦μ„λ¥Ό μλ―Έν•λ”λ°, SSL μΈμ¦μ„λ” λ¬΄μ—‡μΈκ°€μ”?



<br>

#### μ°λ¦¬κ°€ ν”ν μ‚¬μ©ν•λ” κ³µμΈ μΈμ¦μ„μ κ²½μ° μΈμ¦μ„ μ•μ— μ–΄λ–¤ λ‚΄μ©μ΄ λ“¤μ–΄κ°κΉμ”?

κ³µμΈ μΈμ¦μ„λ” AλΌλ” μ‚¬λμ΄ μ§„μ§ Aμ„μ„ λ³΄μ¦ν•΄μ£Όλ” λ¬Έμ„μ…λ‹λ‹¤.

μΈμ¦μ„μ—λ” μΈμ¦λ κΈ°κ΄€ CAμ μ΄λ¦„(VeriSign)κ³Ό κ°μΈμ μ •λ³΄μ™€ κ·Έλ¦¬κ³  κ°μΈμ κ³µκ°ν‚¤κ°€ λ“¤μ–΄κ°€ μκ³ , CAμ—μ„λ” κ°μΈμ κ°μΈν‚¤λ„ ν•¨κ» μƒμ„±ν•΄μ„ μ „λ‹¬ν•©λ‹λ‹¤.

<br>

#### κ³µμΈ μΈμ¦μ„λ¥Ό μ‚¬μ©ν•λ‹¤κ³  ν•  λ• μ–΄λ–¤ κ³Όμ •μ„ κ±°μ³ μΈμ¦μ΄ λ κΉμ”?

1. A μ‚¬μ©μλ” μ°μ„  μ ‘μ†ν•  μ€ν–‰μ μΈμ¦μ„λ¥Ό λ¨Όμ € νλ“
2. Aμ μΈμ¦μ„μ™€ Aμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό μ€ν–‰μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ μ€ν–‰μ— μ „μ†΅
3. μ€ν–‰μ€ κ°μΈν‚¤λ΅ λ³µνΈν™”ν• ν›„, Aμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ μ •λ³΄κ°€ Aμ μΈμ¦μ„ λ‚΄ κ³µκ°ν‚¤λ΅ λ³µνΈν™” λλ‹¤λ©΄ Aμ μΈμ¦μ„κ°€ λ§λ‹¤λ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

<br>

#### κ³µμΈ μΈμ¦μ„μ—λ” CA κΈ°μ—…μ μ΄λ¦„, κ°μΈμ κ³µκ°ν‚¤κ°€ λ“¤μ–΄κ°„λ‹¤κ³  ν–λ”λ°, μ™ κ³µμΈ μΈμ¦μ„κ°€ μ μ¶λλ©΄ λ¬Έμ λΌκ³  λ§ν• κΉμ”? κ³µκ°ν‚¤λ” μ μ¶λμ–΄λ„ μƒκ΄€μ—†λ” μ •λ³΄κ°€ μ•„λ‹κ°€μ”?

ν”ν κ³µμΈ μΈμ¦μ„κ°€ μ μ¶λμ—λ‹¤λ” λ§μ€ κ°μΈμ private key κ°€ μ μ¶λμ—λ‹¤λ” μλ―Έμ…λ‹λ‹¤.

μ°λ¦¬λ‚λΌμ—μ„λ” λ³΄ν†µ μΈμ¦μ„μ™€ private keyλ¥Ό κ°™μ΄ μ €μ¥ν•΄λ‘κΈ° λ•λ¬Έμ…λ‹λ‹¤.

<br>



#### TLSλ” μ–΄λ–¤ λ³΄μ• μ„λΉ„μ¤λ¥Ό μ κ³µν•κ³  μκ³ , κ° μ„λΉ„μ¤λ” μ–΄λ–»κ² λ³΄μ¥λκ³  μλ‚μ”?

1. κΈ°λ°€μ„± : `λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹`μ„ μ‚¬μ©ν•κ² λλ©΄ κΈ°λ°€μ„±μ„ μ κ³µν•  μ μμµλ‹λ‹¤.
2. λ¬΄κ²°μ„± : λ©”μ‹μ§€ μΈμ¦ μ½”λ“(MAC)λ¥Ό ν†µν•΄ λ©”μ‹μ§€ `μ„/λ³€μ΅° μ—¬λ¶€ ν™•μΈ` κ°€λ¥
3. μΈμ¦ : μ—°κ²° μ΄κΈ° μ„¤μ •μ—μ„ μ£Όκ³  λ°›λ” μΈμ¦μ„λ¥Ό ν†µν•΄ μ‹ λΆ°ν•  μ μλ” μ„λ²„μΈμ§€ μΈμ¦κ°€λ¥

<br>

#### TLSμ—μ„ μΈμ¦ μ„λΉ„μ¤μ™€ CAλ¥Ό ν†µν• μΈμ¦ μ„λΉ„μ¤λ” μ–΄λ–¤ μ°¨μ΄κ°€ μλ‚μ”?

<br>

#### TLSλ” κΈ°λ°€μ„±, λ¬΄κ²°μ„±, μΈμ¦ 3κ°€μ§€ λ³΄μ• μ„λΉ„μ¤λ¥Ό μ κ³µν•λ”λ° μ—¬κΈ°μ„ λ¬΄κ²°μ„±μ€ μ™ ν•„μ”ν• λ³΄μ• μ„λΉ„μ¤μΈκ°€μ”?



<br><br>

# References

- [HTTPSμ λ‹¨μ ](https://mkil.tistory.com/488)
- [**HTTPμ™€ HTTPS**](https://github.com/shinhee-rebecca/2022-cs-study/blob/main/Network/HTTP%EC%99%80%20HTTPS.md)